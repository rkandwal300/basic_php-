<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />

    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
</head>
<body>
    <div class="flex flex-row justify-between h-fit w-full px-4 " > 
        <div class="h-fit  max-w-[45%]   "   > 
            <div class="text-3xl font-semibold text-gray-700 my-4 w-fit p-3  border-b-2  border-gray-700 mb-6 " >REGISTERATION FORM </div>

            <form  id = 'form' >
                <table class=" w-full h-full   ">
                
                    <tr class ="flex flex-row  justify-between items-center my-[20px] " >
                        <td class="text-lg font-medium mr-4 text-gray-700"> Student's Name :- </td>
                        <td> 
                            <input class="h-[40px] border-2 border-gray-700 w-[300px] rounded-lg text-gray-800 shadow-lg pl-3 " type = 'text'  placeholder="enter your name " name = 'name' required class= 'txt' /> 
                        </td>
                    </tr>
        
                    <tr class ="flex flex-row  justify-between items-center " >
                        <td class="text-lg font-medium mr-4 text-gray-600" > Gender :- </td>
                        <td > 
                            <select name = 'gender' class="h-[40px] border-2 border-gray-700 w-[100px] rounded-lg text-gray-800 shadow-lg pl-3 " >
                                <option value='M' > Male</option>
                                <option value='F' > Female </option>
                                <option value='O' > Other </option>
                            </select> </td>
                    </tr>
        
                    <tr class ="flex flex-row  justify-between items-center my-[20px] "  > 
                        <td class="text-lg font-medium mr-4 text-gray-700" > Date Of Birth :-</td>
                        <td> 
                            <input class="h-[40px] w-[150px] border-2 border-gray-700 rounded-lg text-gray-800 shadow-lg pl-3 "  type='date' name = 'dob' required class='txt' /> 
                    </td>
                    </tr>
        
                    <tr class ="flex flex-row  justify-between items-center my-[20px] "  > 
                        <td class="text-lg font-medium mr-4 text-gray-700"> Address :- </td>
                        <td> 
                            <textarea class="h-[100px] w-[300px] border-2 border-gray-700 rounded-lg text-gray-800 shadow-lg pl-3 p-3 "  placeholder="address here...."  type='text' name = 'address' required class='txt' ></textarea> 
                    </td>
                    </tr>
                    
                    <tr  class ="flex flex-row  justify-between items-center my-[20px] "> 
                        <td> </td>
                        <td> 
                            <input class="px-4 py-2 mr-3 bg-indigo-500 rounded-lg font-semibold text-white shadow-lg hover:shadow-xl  hover:bg-indigo-600 cursor-pointer border-2 border-gray-700 " type='submit' value= 'Save'  class='btn' /> 
                    </td>
                    </tr>
                    <tr<> <div id ="msg"> </div> </tr>
        
        
                </table>
        
            </form>
        </div>

        <div class="w-[50%] mt-8   "> 

            <div class="text-3xl font-semibold text-gray-700 my-4 w-fit p-3  border-b-2  border-gray-700 mb-6 " >REGISTERED USERS </div>

            
    <table border='2' width = '100%'  cellpadding='10' cellspacing='0' class="w-full border-2 border-gray-700  ">
        <thead class="border-2 border-gray-700">
            <th class="border-2 border-gray-700"> Serial No. </th>
            <th class="border-2 border-gray-700"> Students Name</th>
            <th class="border-2 border-gray-700"> Gender </th>
            <th class="border-2 border-gray-700"> Date Of Birth </th>
            <th class="border-2 border-gray-700"> Address </th>
            <th class="border-2 border-gray-700"> Opration </th>
        </thead>
        
        <tbody id="show_data">
            
            <!-- <tr class="border-2 border-gray-700">
                <td class="border-2 border-gray-700"> hello  </td>
                <td class="border-2 border-gray-700"> hello  </td>
                <td class="border-2 border-gray-700"> hello  </td>
                <td class="border-2 border-gray-700"> hello  </td>
                <td class="border-2 border-gray-700"> hello  </td>
                <td class="border-2 border-gray-700">  
                    <div> 
                        <a href = 'Delete.php?msg=<?php echo  $value[0] ; ?>' > <i class= 'fa fa-trash' ></i></a>

                        <a href = 'Update_table.php?msg=<?php echo  $value[0] ; ?>' > <i class= 'fa fa-wrench' ></i></a>
                    </div> 
                </td>
            </tr> -->


        </tbody>
    </table>

        </div>
    </div>
</body>
<script type = "text/javascript" >



    $(document).ready(function(){
        
        function show() {
            $.get("Show.php", function(resp){
                var data = JSON.parse(resp) ;
                var display = '' ;
                data.map(function (val){
                display += (`
                    <tr class="border-2 border-gray-700">
                <td class="border-2 border-gray-700"> ${val[0]}  </td>
                <td class="border-2 border-gray-700"> ${val[1]}  </td>
                <td class="border-2 border-gray-700"> ${val[2]}  </td>
                <td class="border-2 border-gray-700"> ${val[3]}  </td>
                <td class="border-2 border-gray-700"> ${val[4]}  </td>
                <td class="border-2 border-gray-700">  
                    <div> 
                        <button id = "update"> <span id = 'id' class = "hidden">${val[0]}</span> <i class= 'fa fa-wrench' ></i></button>
                    </div> 
                </td>
            </tr>
                    `) ;
                }) ;

                $('#show_data').html(display ) ;



                });
        }

        show() ;

        $ ("#update").on('click', )

$('#form').on('submit' , function(e){
    e.preventDefault() ;

    $.ajax({
        url : 'insert.php' ,
        type:'POST' ,
        cache : false , 
        processData : false,
        // contentType : false ,
        // data :  new FormData(this),
        data :  $('#form').serialize(),
        beforeSend : function () {
            $('#msg').text('please wait ');
        },
        success : function (resp){
            $('#form')[0].reset();
            $('#msg').text(resp)
            console.log(resp);
        } ,
        error:function (resp){
            $('#msg').text(resp)
        } ,
        complete : function (){
            $('#msg').append('task completed ') ;
        } ,
    });
});

});
</script>

</html>